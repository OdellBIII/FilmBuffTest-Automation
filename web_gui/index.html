<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Creator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>TikTok Creator</h1>

        <!-- Movie Hints Section -->
        <div class="section">
            <h2>Movie Hints</h2>

            <!-- Row 1 -->
            <div class="hint-row">
                <div class="caption-group">
                    <label for="caption1">Caption 1:</label>
                    <textarea id="caption1" class="caption-input" rows="3" placeholder="Caption 1">Caption 1</textarea>
                </div>
                <div class="movie-buttons">
                    <button class="movie-btn" data-row="0" data-col="0">New Movie</button>
                    <button class="movie-btn" data-row="0" data-col="1">New Movie</button>
                    <button class="movie-btn" data-row="0" data-col="2">New Movie</button>
                </div>
            </div>

            <!-- Row 2 -->
            <div class="hint-row">
                <div class="caption-group">
                    <label for="caption2">Caption 2:</label>
                    <textarea id="caption2" class="caption-input" rows="3" placeholder="Caption 2">Caption 2</textarea>
                </div>
                <div class="movie-buttons">
                    <button class="movie-btn" data-row="1" data-col="0">New Movie</button>
                    <button class="movie-btn" data-row="1" data-col="1">New Movie</button>
                    <button class="movie-btn" data-row="1" data-col="2">New Movie</button>
                </div>
            </div>

            <!-- Row 3 -->
            <div class="hint-row">
                <div class="caption-group">
                    <label for="caption3">Caption 3:</label>
                    <textarea id="caption3" class="caption-input" rows="3" placeholder="Caption 3">Caption 3</textarea>
                </div>
                <div class="movie-buttons">
                    <button class="movie-btn" data-row="2" data-col="0">New Movie</button>
                    <button class="movie-btn" data-row="2" data-col="1">New Movie</button>
                    <button class="movie-btn" data-row="2" data-col="2">New Movie</button>
                </div>
            </div>
        </div>

        <!-- Actor/Actress Section -->
        <div class="section">
            <h2>Actor/Actress</h2>
            <div class="input-group">
                <label for="actorName">Actor/Actress Name:</label>
                <input type="text" id="actorName" class="text-input" required>
            </div>
            <div class="input-group">
                <label for="actorHeadshot">Headshot (Optional):</label>
                <div class="file-input-group">
                    <input type="file" id="actorHeadshot" accept="image/*" class="file-input">
                    <span class="file-name" id="headshotFileName">No file selected</span>
                </div>
            </div>
        </div>

        <!-- API Keys Section -->
        <div class="section">
            <h2>API Keys</h2>
            <div class="api-keys-note">
                <p>‚ö†Ô∏è <strong>Note:</strong> API keys can also be set as environment variables (GTA_OMDB_API_KEY, GTA_TMDB_API_KEY).
                   Keys entered here will override environment variables.</p>
            </div>
            <div class="input-group">
                <label for="omdbApiKey">OMDB API Key (for movie posters):</label>
                <input type="password" id="omdbApiKey" class="text-input api-key-input" placeholder="Enter OMDB API key (optional)">
                <button type="button" id="toggleOmdbKey" class="toggle-visibility-btn">üëÅÔ∏è</button>
            </div>
            <div class="input-group">
                <label for="tmdbApiKey">TMDB API Key (for actor headshots):</label>
                <input type="password" id="tmdbApiKey" class="text-input api-key-input" placeholder="Enter TMDB API key (optional)">
                <button type="button" id="toggleTmdbKey" class="toggle-visibility-btn">üëÅÔ∏è</button>
            </div>
            <div class="input-group">
                <label for="elevenLabsApiKey">Eleven Labs API Key (for voice-overs):</label>
                <input type="password" id="elevenLabsApiKey" class="text-input api-key-input" placeholder="Enter Eleven Labs API key (optional)">
                <button type="button" id="toggleElevenLabsKey" class="toggle-visibility-btn">üëÅÔ∏è</button>
            </div>
        </div>

        <!-- Voice-Over Settings Section -->
        <div class="section">
            <h2>Voice-Over Settings</h2>
            <div class="api-keys-note">
                <p>‚ÑπÔ∏è <strong>Voice-Over Feature:</strong> Enable AI-generated voice narration for captions, movie titles, and actor names using Eleven Labs.</p>
            </div>
            <div class="input-group">
                <label class="checkbox-container">
                    <input type="checkbox" id="enableVoiceOvers" class="voice-over-checkbox">
                    <span class="checkmark"></span>
                    Enable voice-overs for captions, movie titles, and actor names
                </label>
            </div>
        </div>

        <!-- Background Files Section -->
        <div class="section">
            <h2>Background Files</h2>
            <div class="input-group">
                <label for="backgroundAudio">Background Audio:</label>
                <div class="file-input-group">
                    <input type="file" id="backgroundAudio" accept="audio/*" class="file-input">
                    <span class="file-name" id="audioFileName">assets/background_audio.mp3</span>
                </div>
            </div>
            <div class="input-group">
                <label for="backgroundVideo">Background Video:</label>
                <div class="file-input-group">
                    <input type="file" id="backgroundVideo" accept="video/*" class="file-input">
                    <span class="file-name" id="videoFileName">assets/background_video.mp4</span>
                </div>
            </div>
        </div>

        <!-- Output Settings Section -->
        <div class="section">
            <h2>Output Settings</h2>
            <div class="input-group">
                <label for="outputFileName">Output File Name:</label>
                <input type="text" id="outputFileName" class="text-input" value="output_video.mp4" placeholder="e.g., my_tiktok.mp4">
            </div>
            <div class="input-group">
                <label for="outputDirectory">Output Directory:</label>
                <div class="file-input-group">
                    <input type="text" id="outputDirectory" class="text-input" value="." placeholder="Output directory path">
                    <button type="button" id="browseOutputBtn" class="browse-btn">Browse</button>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button id="generateBtn" class="generate-btn">Create TikTok Video</button>
            <button id="exitBtn" class="exit-btn">Exit Application</button>
        </div>

        <!-- Progress Section -->
        <div id="progressSection" class="section" style="display: none;">
            <h2>Progress</h2>
            <div id="progressBar" class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <div id="progressText" class="progress-text">Initializing...</div>
            <div id="outputLog" class="output-log"></div>
        </div>
    </div>

    <!-- Movie Input Modal -->
    <div id="movieModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Movie</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="movieTitle">Movie Title (Required):</label>
                    <input type="text" id="movieTitle" class="text-input" required>
                </div>
                <div class="input-group">
                    <label for="movieYear">Release Year (Optional):</label>
                    <input type="text" id="movieYear" class="text-input" placeholder="e.g., 1987">
                </div>
                <div class="input-group">
                    <label for="moviePoster">Movie Poster (Optional):</label>
                    <div class="file-input-group">
                        <input type="file" id="moviePoster" accept="image/*" class="file-input">
                        <span class="file-name" id="posterFileName">No file selected</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveMovieBtn" class="save-btn">Save Movie</button>
                <button id="cancelMovieBtn" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>